/**************************************************************************
 *	bluefire-os
 *	Version: 00.00.04
 *	Author: David Davidson
 *	Name: console.c
 *	Created: Jan 11, 2012
 *	Purpose:
 *  Usage:
***************************************************************************/
#include <common_include.h>

static console_t vir_cons[K_TOT_VIR_CONS+1];

// The first 4 MB of memory where Identity Mapped by the boot loader so address 0xB8000 works.
// If this changes then kernel paging has to be activated first.
void initialize_boot_console() {
	vir_cons[0].vid_buffer = (u16int *)0xB8000;
	vir_cons[0].cursor_x = 0;
	vir_cons[0].cursor_y = 0;
	vir_cons[0].cur_color = DEFAULT_COLOR;

	// Clear the screen.
	video_clrscr( (console_t *)(&vir_cons[0]) );
}

//Get the address of a console structure.
//return The address of the console structure.
//exception NULL Console c does not exists.

console_t *get_console_addr(s32int c) {
	if ( (c >= 0) && ( c <= K_TOT_VIR_CONS) ) {
		return( (console_t *)(&vir_cons[c]) );
	}

	return((console_t *)NULL);
}
