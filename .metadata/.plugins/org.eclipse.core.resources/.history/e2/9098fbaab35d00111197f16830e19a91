/**************************************************************************
 *	bluefire-os
 *	Version: 00.00.08
 *	Author: David Davidson
 *	Name: keyboard.c
 *	Created: Feb 22, 2012
 *	Purpose:
 *  Usage:
***************************************************************************/
#include <common_include.h>

void update_leds() {
	s32int leds;
	console_t *curr_cons = get_console_addr( get_curr_console() );
	u32int flags;

	leds = (curr_cons->scroll_lock) | (curr_cons->num_lock << 1) | (curr_cons->caps_lock << 2);

	u32int flags;
	disable_and_save_interrupts(flags);

	keyb_wait_controller();
	outportb(KEYB_PORT, KEYB_LED_CODE);
	keyb_wait_controller();
	outportb(KEYB_PORT, leds);


	restore_interrupts(flags);

}
void initialize_keyboard() {
	void update_leds();
}
